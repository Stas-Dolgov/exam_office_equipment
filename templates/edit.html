{% extends 'base.html' %}
{% block title %}Редактировать оборудование{% endblock %}
{% block content %}
    <h1>Редактировать оборудование</h1>
    <form method="POST" action="{{ url_for('edit_equipment', id=equipment.id) }}" enctype="multipart/form-data">
        {{ form.hidden_tag() }}
        <div class="form-group">
            {{ form.name.label }}
            {{ form.name(class="form-control", value=equipment.name) }}
            {% for error in form.name.errors %}
                <span class="text-danger">{{ error }}</span><br>
            {% endfor %}
        </div>
        <div class="form-group">
            {{ form.inventory_number.label }}
            {{ form.inventory_number(class="form-control", value=equipment.inventory_number) }}
            {% for error in form.inventory_number.errors %}
                <span class="text-danger">{{ error }}</span><br>
            {% endfor %}
        </div>
        <div class="form-group">
            {{ form.category_id.label }}
            {{ form.category_id(class="form-control", value=equipment.category_id) }}
            {% for error in form.category_id.errors %}
                <span class="text-danger">{{ error }}</span><br>
            {% endfor %}
        </div>
        <div class="form-group">
            {{ form.purchase_date.label }}
            {{ form.purchase_date(class="form-control", value=equipment.purchase_date.strftime('%Y-%m-%d') if equipment.purchase_date else '', placeholder="YYYY-MM-DD") }}
            {% for error in form.purchase_date.errors %}
                <span class="text-danger">{{ error }}</span><br>
            {% endfor %}
        </div>
        <div class="form-group">
            {{ form.cost.label }}
            {{ form.cost(class="form-control", value=equipment.cost) }}
            {% for error in form.cost.errors %}
                <span class="text-danger">{{ error }}</span><br>
            {% endfor %}
        </div>
        <div class="form-group">
            {{ form.status.label }}
            {{ form.status(class="form-control", value=equipment.status) }}
            {% for error in form.status.errors %}
                <span class="text-danger">{{ error }}</span><br>
            {% endfor %}
        </div>
        <div class="form-group">
            {{ form.photo.label }}
            {{ form.photo(class="form-control-file") }}
            {% if equipment.photo %}
                <img src="" alt="Фото текущее" style="max-width: 300px;">
            {% endif %}
            {% for error in form.photo.errors %}
                <span class="text-danger">{{ error }}</span><br>
            {% endfor %}
        </div>
        {{ form.submit(class="btn btn-primary") }}
    </form>
{% endblock %}